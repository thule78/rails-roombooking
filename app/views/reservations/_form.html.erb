<%= form_for([@room, @room.reservations.new]) do |f| %>
  <div class="form-row mt-3">
    <div class="col">
      <label for=""><strong>Check In</strong></label>
      <%= f.text_field :start_date, class: 'form-control', required: true, placeholder: 'Start Date', readonly: true %>
    </div>
    <div class="col">
      <label for=""><strong>Check Out</strong></label>
      <%= f.text_field :end_date, class: 'form-control',required: true, placeholder: 'End Date', readonly: true  %>
    </div>
    <!--disabled: true-->
  </div>
  <div class="form-group mt-3" style="display: none">
    <label for=""><strong>Guest</strong></label>
    <%= f.select :guest, [['1', 1], ["2", 2], ["3", 3], ["4", 4], ["5", 5], ["6", 6], ["6", 7], ["8", 8]],
                id: 'guest', prompt: "Select...", class: 'form-control', required: true%>
  </div>
  <div class="mt-3" id="preview" style="display: none">
    <table class="reservation-table">
      <tbody>
        <tr>
          <td>Night(s)</td>
          <td class="float-right">x <span id='reservation_days'></span></td>
        </tr>
        <tr>
          <td>Total</td>
          <td class="float-right">$<span id='reservation_total'></span></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="mt-3">
   <%= f.submit "Book Now", class: 'btn btn-danger btn-lg btn-block'%>
  </div>
<% end %>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<script>
$(function() {
  $.ajax({
    url: "<%= preload_room_path(@room) %>",
    dateTyp: 'json',
    success: function(data) {
      console.log("Hello anybody here?");
      console.log(data);
      $.each(data, function(arrID, arrValue) {
        console.log(arrValue)
      });
    }
  });
  $('#reservation_start_date').datepicker({
    dateFormat: 'dd-mm-yy'
  });
  $('#reservation_end_date').datepicker({
    dateFormat: 'dd-mm-yy'
  });
});
</script>
